Plecs {
  Name          "single_phase_pv_inverter_c2000"
  Version       "4.5"
  CircuitModel  "ContStateSpace"
  StartTime     "0.0"
  TimeSpan      "4"
  Timeout       ""
  Solver        "dopri"
  MaxStep       "1"
  InitStep      "-1"
  FixedStep     "2e-6"
  Refine        "1"
  ZCStepSize    "1e-9"
  RelTol        "1e-4"
  AbsTol        "-1"
  TurnOnThreshold "0"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "2"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AlgebraicLoopWithStateMachineMsg "2"
  AssertionAction "1"
  InitializationCommands "% Processor selection for I/O assignment\n% The chos"
"en Target in the Coder Options window must match the selected MCU.\n% Set the"
" variable 'type_evm' to the following strings to choose a specific target:\n"
"\n  type_evm = 'TI28069';    % TI28069 Piccolo Launchpad\n% type_evm = 'TI283"
"77S';   % TI28377S Delfino Launchpad\n% type_evm = 'TI28379LP';  % TI28379D D"
"elfino Launchpad\n% type_evm = 'TI280049C';  % TI280049C Piccolo Launchpad\n%"
" type_evm = 'TI28379CC';  % TI28379D Delfino Controlcard\n% type_evm = 'TI283"
"88D';   % TI28388D Controlcard\n\n% Configure I/O based on processor \nswitch"
" (type_evm)\n\tcase 'TI28069'\n\t% Configuration for TI28069 Launchpad\n\t%on"
" the Plant side\n\t\tAO_RTBox_DC = [0:1];\n\t\tAO_RTBox_AC = [2:3];\n\t\tPWMC"
"AP_RTBox_sw = [0:3];\n\t\tDO_RTBox_En = 4;\t\n\t\tDI_RTBox_Power = 22;\n\t\tA"
"O_Vmax = 3.3;\n\t\tAO_Factor = 1;\n\t\t\n\t%on the Controller side\t\n\t\tADC"
"_DSP_ADC = [7,1+8,2,2+8];\n\t\tPWM_DSP_PWM = [1,2];\n\t\tDO_DSP_LED = 34;\n\t"
"\tDI_DSP_En = 13;\n\t\tPWR_DSP_GPIO = 27;\n\t\tSCI_DSP = [28, 29];\n\t\tADC_Vmax"
"= 3.3;\n\t\t\t\n\tcase 'TI28377S'\n\t% Configuration for TI28377S Launchpa"
"d\n\t%on the Plant side\n\t\tAO_RTBox_DC = [6,10];\n\t\tAO_RTBox_AC = [12,14]"
";\n\t\tPWMCAP_RTBox_sw = 2:5;\n\t\tDO_RTBox_En = 6;\t\n\t\tDI_RTBox_Power = 2"
"6;\n\t\tAO_Vmax = 3.3;\n\t\tAO_Factor = 1;\n\t\t\n\t%on the Controller side\t"
"\n\t\tADC_DSP_ADC = [1,5,3,4];\n\t\tPWM_DSP_PWM = [8,9];\n\t\tDO_DSP_LED = 12"
";\n\t\tDI_DSP_En = 72;\n\t\tPWR_DSP_GPIO = 43;\n\t\tSCI_DSP = [85, 84];\n\t\t"
"ADC_Vmax = 3.3;\n\t\t\n\tcase 'TI28379LP'\n\t% Configuration for TI28379D Lau"
"nchpad\n\t%on the Plant side\n\t\tAO_RTBox_DC = [0,3];\n\t\tAO_RTBox_AC = [11"
",14];\n\t\tPWMCAP_RTBox_sw = 0:3;\n\t\tDO_RTBox_En = 6;\t\n\t\tDI_RTBox_Power"
" = 22;\n\t\tAO_Vmax = 3.3;\n\t\tAO_Factor = 1;\n\t\t\n\t%on the Controller si"
"de\t\n\t\tADC_DSP_ADC = [14,3,5,4];\n\t\tPWM_DSP_PWM = [1,2];\n\t\tDO_DSP_LED"
" = 34;\n\t\tDI_DSP_En = 124;\n\t\tPWR_DSP_GPIO = 66;\n\t\tSCI_DSP = [43, 42];"
"\n\t\tADC_Vmax = 3.3;\n\t\n\tcase 'TI280049C'\n\t% Configuration for TI280049"
"C Launchpad\n\t%on the Plant side\n\t\tAO_RTBox_DC = [0,6];\n\t\tAO_RTBox_AC "
"= [8,14];\n\t\tPWMCAP_RTBox_sw = 0:3;\n\t\tDO_RTBox_En = 4;\t\n\t\tDI_RTBox_P"
"ower = 24;\n\t\tAO_Vmax = 3.3;\n\t\tAO_Factor = 1;\n\t\t\n\t%on the Controlle"
"r side\t\n\t\tADC_DSP_ADC = [5,9,6,3];\n\t\tPWM_DSP_PWM = [6,5];\n\t\tDO_DSP_"
"LED = 34;\n\t\tDI_DSP_En = 58;\n\t\tPWR_DSP_GPIO = 56;\n\t\tSCI_DSP = [28, 29"
"];\n\t\tADC_Vmax = 3.3;\n\t\t\n\t\tcase 'TI28379CC'\n\t% Configuration for TI"
"28379D Controlcard\n\t%on the Plant side\n\t\tAO_RTBox_DC = [15 ,13];\n\t\tAO"
"_RTBox_AC = [11, 9];\t\t\t\n\t\tPWMCAP_RTBox_sw = 0:3;\n\t\tDO_RTBox_En = 21;"
"\n\t\tDI_RTBox_Power = 14;\n\t\tAO_Vmax = 5.0;\n\t\tAO_Factor = 1.54; % break"
"out board scaling 6.8k/4.42k\n\t\t\n\t%on the Controller side \n\t\tADC_DSP_A"
"DC = [0,1,2,3];\t\t\n\t\tPWM_DSP_PWM = [1,2];\n\t\tDO_DSP_LED = 34;\n\t\tDI_D"
"SP_En = 40;\n\t\tPWR_DSP_GPIO = 39; \t\t\n\t\tSCI_DSP = [28, 29];\n\t\tADC_Vm"
"ax = 3.0;\n\t\t\n\t\tcase 'TI28388D'\n\t% Configuration for TI28388D Controlc"
"ard\n\t%on the Plant side\n\t\tAO_RTBox_DC = [15 ,13];\n\t\tAO_RTBox_AC = [11"
", 9];\t\t\t\n\t\tPWMCAP_RTBox_sw = 0:3;\n\t\tDO_RTBox_En = 21;\n\t\tDI_RTBox_"
"Power = 14;\n\t\tAO_Vmax = 5.0;\n\t\tAO_Factor = 1.54; % breakout board scali"
"ng 6.8k/4.42k\n\t\t\n\t%on the Controller side \n\t\tADC_DSP_ADC = [0,1,2,3];"
"\t\t\n\t\tPWM_DSP_PWM = [1,2];\n\t\tDO_DSP_LED = 34;\n\t\tDI_DSP_En = 40;\n\t"
"\tPWR_DSP_GPIO = 39; \t\t\n\t\tSCI_DSP = [28, 29];\n\t\tADC_Vmax = 3.0;\n\t\t"
"\n\totherwise\n\terror('Unknown evaluation module selection, please choose ei"
"ther ''TI28069'', ''TI28377S'', ''TI28379LP'', ''TI280049C'', ''TI28379CC'' o"
"r ''TI28388D''.')\nend\n\n% switching frequency\nfs=(25e3)/2 % switching freq"
"uency in Hz\n\n% controller dicretizaton\nfc=25e3; % sample rate of the contr"
"oller subsystem (Base task) in Hz\nTs_controller=1/fc; % sample step size of "
"the Base task in sec\nTs_MPP = 2.2e-3; %sample step size of the MPP task in s"
"ec\nTs_Volt= 4e-4; %sample step size of the voltage controller task in sec\nT"
"s_LED = 0.1;  %sample step size of the LED task in sec\n\n% plant dicretizato"
"n\nTs_plant = 1/fc/16; % sample step size of the plant subsystem in sec\n\n\n"
"% system parameters\nPrated=3000; % Rated power in W\nVdc0=380;\nIdc0=Prated/"
"Vdc0;\nIacmax=40;\nVgrid = 325;\nFgrid = 50;\n\n% scaling\nVdc_scl = ADC_Vmax"
"/(2*Vdc0);\nIdc_scl = ADC_Vmax/(2*Idc0);\n\nVg_scl = ADC_Vmax/(4*Vgrid);\nVg_"
"ofs = ADC_Vmax/2;\n\nIg_scl = ADC_Vmax/(2*Iacmax);\nIg_ofs = ADC_Vmax/2;"
  InitialState  "1"
  SystemState   ""
  TaskingMode   "1"
  TaskConfigurations ""
  CodeGenParameterInlining "2"
  CodeGenFloatingPointFormat "2"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "Generic"
  CodeGenTargetSettings "AAAAfwAAAAAlUU1hcDxRU3RyaW5nLFFNYXA8UVN0cmluZyxRU3Rya"
"W5nPiA+AAAAAAEAAAAOAEcAZQBuAGUAcgBpAGMAAAAA"
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings "AAAAfwAAAAAWUU1hcDxRU3RyaW5nLFFTdHJpbmc+AAAAAAYAAAAYAF"
"QAcgBpAGcAZwBlAHIAVgBhAGwAdQBlAAAAAgAwAAAAGABUAHIAaQBnAGcAZQByAEQAZQBsAGEAeQA"
"AAAIAMAAAABYAUwBlAG4AcwBpAHQAaQB2AGkAdAB5AAAAAgAwAAAAFgBSAGUAZgByAGUAcwBoAFIA"
"YQB0AGUAAAAEADIAMAAAABQATgB1AG0AUwBhAG0AcABsAGUAcwAAAAgAOAAxADkAMgAAABQARABlA"
"GMAaQBtAGEAdABpAG8AbgAAAAIAMQ=="
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  ScriptsDialogGeometry ""
  ScriptsDialogSplitterPos "0"
  Schematic {
    Location      [289, 52; 798, 325]
    ZoomFactor    1.00451
    SliderPosition [0, 0]
    ShowBrowser   off
    BrowserWidth  100
    Component {
      Type          Subsystem
      Name          "Controller"
      Show          on
      Position      [115, 170]
      Direction     up
      Flipped       off
      Frame         [-50, -50; 50, 50]
      LabelPosition [0, 53]
      LabelAlign    up
      TreatAsAtomicUnit on
      SampleTime    "-1"
      TaskingMode "2"
      TaskConfigurations "AAAACQAAAAAEAAAACAAAAAAEAAAAFABTAGEAbQBwAGwAZQBUAGkA"
"bQBlAAAACgAAAAACADAAAAAIAE4AYQBtAGUAAAAKAAAAABIAQgBhAHMAZQAgAFQAYQBzAGsAAAAOA"
"EQAZQBmAGEAdQBsAHQAAAABAAEAAAAIAEMAbwByAGUAAAACAAAAAAAAAAAIAAAAAAQAAAAUAFMAYQ"
"BtAHAAbABlAFQAaQBtAGUAAAAKAAAAAAwAVABzAF8ATQBQAFAAAAAIAE4AYQBtAGUAAAAKAAAAACA"
"ATQBQAFAAIABDAG8AbgB0AHIAbwBsACAAVABhAHMAawAAAA4ARABlAGYAYQB1AGwAdAAAAAEAAAAA"
"AAgAQwBvAHIAZQAAAAIAAAAAAAAAAAgAAAAABAAAABQAUwBhAG0AcABsAGUAVABpAG0AZQAAAAoAA"
"AAADgBUAHMAXwBWAG8AbAB0AAAACABOAGEAbQBlAAAACgAAAAAoAFYAbwBsAHQAYQBnAGUAIABDAG"
"8AbgB0AHIAbwBsACAAVABhAHMAawAAAA4ARABlAGYAYQB1AGwAdAAAAAEAAAAAAAgAQwBvAHIAZQA"
"AAAIAAAAAAAAAAAgAAAAABAAAABQAUwBhAG0AcABsAGUAVABpAG0AZQAAAAoAAAAADABUAHMAXwBM"
"AEUARAAAAAgATgBhAG0AZQAAAAoAAAAAEABMAEUARAAgAFQAYQBzAGsAAAAOAEQAZQBmAGEAdQBsA"
"HQAAAABAAAAAAAIAEMAbwByAGUAAAACAAAAAAA="
      CodeGenEnable on
      CodeGenSampleTime "Ts_controller"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "TI2806x"
      CodeGenTargetSettings "AAAAfwAAAAAlUU1hcDxRU3RyaW5nLFFNYXA8UVN0cmluZyxRU"
"3RyaW5nPiA+AAAAAAYAAAAOAFQASQAyADgAMwA4AHgAAAAwAAAAEgB1AHMAZQBJAG4AdABPAHMAYw"
"AAAAIAMQAAABgAdQBuAGkAZgBsAGEAcwBoAEYAaQBsAGUAAAAAAAAAFgB0AGEAcwBrAEYAcgBlAHE"
"AVABvAGwAAAACADEAAAAUAHQAYQByAGcAZQB0AEMAbwByAGUAAAACADEAAAASAHMAeQBzAEMAbABr"
"AE0ASAB6AAAABgAxADkAMAAAABQAaQBuAHMAdABhAGwAbABEAGkAcgAAAAAAAAAOAGcAZQBuAE8Ab"
"gBsAHkAAAACADIAAAAcAGUAeAB0AE0AbwBkAGUAUwBjAGkAUABpAG4AcwAAAA4AUwBDAEkAXwBEAF"
"MAUAAAACIAZQB4AHQATQBvAGQAZQBCAHUAZgBmAGUAcgBTAGkAegBlAAAACAAyADAAMAAwAAAAEgB"
"lAHgAdABDAGwAawBNAEgAegAAAAQAMwAwAAAACABjAGgAaQBwAAAAAgAxAAAAFgBiAHUAaQBsAGQA"
"QwBvAG4AZgBpAGcAAAACADIAAAAKAGIAbwBhAHIAZAAAAAIAMgAAAEoAVQBTAEUAXwBEAEEAVABBA"
"F8AVABZAFAARQBTAF8ARgBPAFIAXwBUAFUATgBBAEIATABFAF8AUABBAFIAQQBNAEUAVABFAFIAUw"
"AAAAIAMQAAAA4AVAB6ADMARwBwAGkAbwAAAAIAMAAAABIAVAB6ADMARQBuAGEAYgBsAGUAAAACADA"
"AAAAOAFQAegAyAEcAcABpAG8AAAACADAAAAASAFQAegAyAEUAbgBhAGIAbABlAAAAAgAwAAAADgBU"
"AHoAMQBHAHAAaQBvAAAAAgAwAAAAEgBUAHoAMQBFAG4AYQBiAGwAZQAAAAIAMAAAABoAVABBAFIAR"
"wBFAFQAXwBEAEUAVgBJAEMARQAAAAwAMAB8AHwAMAB8ADAAAAAgAFMAYQBtAHAAbABlAFQAaQBtAG"
"UAUgBlAGwAVABvAGwAAAAEADEAMAAAACIATABpAG4AawBlAHIAQwBvAG0AbQBhAG4AZABGAGkAbAB"
"lAAAAAAAAABoARQBYAFQARQBSAE4AQQBMAF8ATQBPAEQARQAAAAIAMQAAACYAQQBuAFQAcgBpAHAA"
"NABUAGgAcgBlAHMAaABvAGwAZABMAG8AdwAAAAIAMAAAACgAQQBuAFQAcgBpAHAANABUAGgAcgBlA"
"HMAaABvAGwAZABIAGkAZwBoAAAAAgAwAAAAGgBBAG4AVAByAGkAcAA0AFMAaQBnAG4AYQBsAAAAAg"
"AxAAAAGgBBAG4AVAByAGkAcAA0AEUAbgBhAGIAbABlAAAAAgAwAAAAHABBAG4AVAByAGkAcAA0AEE"
"AZABjAFUAbgBpAHQAAAACADEAAAAiAEEAbgBUAHIAaQBwADQAQQBkAGMAQwBoAGEAbgBuAGUAbAAA"
"AAIAMAAAACYAQQBuAFQAcgBpAHAAMwBUAGgAcgBlAHMAaABvAGwAZABMAG8AdwAAAAIAMAAAACgAQ"
"QBuAFQAcgBpAHAAMwBUAGgAcgBlAHMAaABvAGwAZABIAGkAZwBoAAAAAgAwAAAAGgBBAG4AVAByAG"
"kAcAAzAFMAaQBnAG4AYQBsAAAAAgAxAAAAGgBBAG4AVAByAGkAcAAzAEUAbgBhAGIAbABlAAAAAgA"
"wAAAAHABBAG4AVAByAGkAcAAzAEEAZABjAFUAbgBpAHQAAAACADEAAAAiAEEAbgBUAHIAaQBwADMA"
"QQBkAGMAQwBoAGEAbgBuAGUAbAAAAAIAMAAAACYAQQBuAFQAcgBpAHAAMgBUAGgAcgBlAHMAaABvA"
"GwAZABMAG8AdwAAAAIAMAAAACgAQQBuAFQAcgBpAHAAMgBUAGgAcgBlAHMAaABvAGwAZABIAGkAZw"
"BoAAAAAgAwAAAAGgBBAG4AVAByAGkAcAAyAFMAaQBnAG4AYQBsAAAAAgAxAAAAGgBBAG4AVAByAGk"
"AcAAyAEUAbgBhAGIAbABlAAAAAgAwAAAAHABBAG4AVAByAGkAcAAyAEEAZABjAFUAbgBpAHQAAAAC"
"ADEAAAAiAEEAbgBUAHIAaQBwADIAQQBkAGMAQwBoAGEAbgBuAGUAbAAAAAIAMAAAACYAQQBuAFQAc"
"gBpAHAAMQBUAGgAcgBlAHMAaABvAGwAZABMAG8AdwAAAAIAMAAAACgAQQBuAFQAcgBpAHAAMQBUAG"
"gAcgBlAHMAaABvAGwAZABIAGkAZwBoAAAAAgAwAAAAGgBBAG4AVAByAGkAcAAxAFMAaQBnAG4AYQB"
"sAAAAAgAxAAAAGgBBAG4AVAByAGkAcAAxAEUAbgBhAGIAbABlAAAAAgAwAAAAHABBAG4AVAByAGkA"
"cAAxAEEAZABjAFUAbgBpAHQAAAACADEAAAAiAEEAbgBUAHIAaQBwADEAQQBkAGMAQwBoAGEAbgBuA"
"GUAbAAAAAIAMAAAABAAVABJADIAOAAzADcAeABTAAAALwAAABIAdQBzAGUASQBuAHQATwBzAGMAAA"
"ACADEAAAAYAHUAbgBpAGYAbABhAHMAaABGAGkAbABlAAAAAAAAABYAdABhAHMAawBGAHIAZQBxAFQ"
"AbwBsAAAAAgAxAAAAEgBzAHkAcwBDAGwAawBNAEgAegAAAAYAMQA5ADAAAAAUAGkAbgBzAHQAYQBs"
"AGwARABpAHIAAAAAAAAADgBnAGUAbgBPAG4AbAB5AAAAAgAyAAAAHABlAHgAdABNAG8AZABlAFMAY"
"wBpAFAAaQBuAHMAAAAOAFMAQwBJAF8ARABTAFAAAAAiAGUAeAB0AE0AbwBkAGUAQgB1AGYAZgBlAH"
"IAUwBpAHoAZQAAAAgAMgAwADAAMAAAABIAZQB4AHQAQwBsAGsATQBIAHoAAAAEADMAMAAAAAgAYwB"
"oAGkAcAAAAAIAMQAAABYAYgB1AGkAbABkAEMAbwBuAGYAaQBnAAAAAgAyAAAACgBiAG8AYQByAGQA"
"AAACADIAAABKAFUAUwBFAF8ARABBAFQAQQBfAFQAWQBQAEUAUwBfAEYATwBSAF8AVABVAE4AQQBCA"
"EwARQBfAFAAQQBSAEEATQBFAFQARQBSAFMAAAACADEAAAAOAFQAegAzAEcAcABpAG8AAAACADAAAA"
"ASAFQAegAzAEUAbgBhAGIAbABlAAAAAgAwAAAADgBUAHoAMgBHAHAAaQBvAAAAAgAwAAAAEgBUAHo"
"AMgBFAG4AYQBiAGwAZQAAAAIAMAAAAA4AVAB6ADEARwBwAGkAbwAAAAIAMAAAABIAVAB6ADEARQBu"
"AGEAYgBsAGUAAAACADAAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEUAAAAMADAAfAB8ADAAf"
"AAwAAAAIABTAGEAbQBwAGwAZQBUAGkAbQBlAFIAZQBsAFQAbwBsAAAABAAxADAAAAAiAEwAaQBuAG"
"sAZQByAEMAbwBtAG0AYQBuAGQARgBpAGwAZQAAAAAAAAAaAEUAWABUAEUAUgBOAEEATABfAE0ATwB"
"EAEUAAAACADEAAAAmAEEAbgBUAHIAaQBwADQAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAA"
"AAAoAEEAbgBUAHIAaQBwADQAVABoAHIAZQBzAGgAbwBsAGQASABpAGcAaAAAAAIAMAAAABoAQQBuA"
"FQAcgBpAHAANABTAGkAZwBuAGEAbAAAAAIAMQAAABoAQQBuAFQAcgBpAHAANABFAG4AYQBiAGwAZQ"
"AAAAIAMAAAABwAQQBuAFQAcgBpAHAANABBAGQAYwBVAG4AaQB0AAAAAgAxAAAAIgBBAG4AVAByAGk"
"AcAA0AEEAZABjAEMAaABhAG4AbgBlAGwAAAACADAAAAAmAEEAbgBUAHIAaQBwADMAVABoAHIAZQBz"
"AGgAbwBsAGQATABvAHcAAAACADAAAAAoAEEAbgBUAHIAaQBwADMAVABoAHIAZQBzAGgAbwBsAGQAS"
"ABpAGcAaAAAAAIAMAAAABoAQQBuAFQAcgBpAHAAMwBTAGkAZwBuAGEAbAAAAAIAMQAAABoAQQBuAF"
"QAcgBpAHAAMwBFAG4AYQBiAGwAZQAAAAIAMAAAABwAQQBuAFQAcgBpAHAAMwBBAGQAYwBVAG4AaQB"
"0AAAAAgAxAAAAIgBBAG4AVAByAGkAcAAzAEEAZABjAEMAaABhAG4AbgBlAGwAAAACADAAAAAmAEEA"
"bgBUAHIAaQBwADIAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAAAAAoAEEAbgBUAHIAaQBwA"
"DIAVABoAHIAZQBzAGgAbwBsAGQASABpAGcAaAAAAAIAMAAAABoAQQBuAFQAcgBpAHAAMgBTAGkAZw"
"BuAGEAbAAAAAIAMQAAABoAQQBuAFQAcgBpAHAAMgBFAG4AYQBiAGwAZQAAAAIAMAAAABwAQQBuAFQ"
"AcgBpAHAAMgBBAGQAYwBVAG4AaQB0AAAAAgAxAAAAIgBBAG4AVAByAGkAcAAyAEEAZABjAEMAaABh"
"AG4AbgBlAGwAAAACADAAAAAmAEEAbgBUAHIAaQBwADEAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAA"
"AACADAAAAAoAEEAbgBUAHIAaQBwADEAVABoAHIAZQBzAGgAbwBsAGQASABpAGcAaAAAAAIAMAAAAB"
"oAQQBuAFQAcgBpAHAAMQBTAGkAZwBuAGEAbAAAAAIAMQAAABoAQQBuAFQAcgBpAHAAMQBFAG4AYQB"
"iAGwAZQAAAAIAMAAAABwAQQBuAFQAcgBpAHAAMQBBAGQAYwBVAG4AaQB0AAAAAgAxAAAAIgBBAG4A"
"VAByAGkAcAAxAEEAZABjAEMAaABhAG4AbgBlAGwAAAACADAAAAAOAFQASQAyADgAMwAzAHgAAAAWA"
"AAAGAB1AG4AaQBmAGwAYQBzAGgARgBpAGwAZQAAAAAAAAAWAHQAYQBzAGsARgByAGUAcQBUAG8AbA"
"AAAAIAMQAAABIAcwB5AHMAQwBsAGsATQBIAHoAAAAGADEANQAwAAAAFABpAG4AcwB0AGEAbABsAEQ"
"AaQByAAAAAAAAAA4AZwBlAG4ATwBuAGwAeQAAAAIAMgAAABwAZQB4AHQATQBvAGQAZQBTAGMAaQBQ"
"AGkAbgBzAAAADgBTAEMASQBfAEQAUwBQAAAAIgBlAHgAdABNAG8AZABlAEIAdQBmAGYAZQByAFMAa"
"QB6AGUAAAAIADIAMAAwADAAAAASAGUAeAB0AEMAbABrAE0ASAB6AAAABgAxADUAMAAAAAgAYwBoAG"
"kAcAAAAAIAMQAAABYAYgB1AGkAbABkAEMAbwBuAGYAaQBnAAAAAgAxAAAACgBiAG8AYQByAGQAAAA"
"CADEAAABKAFUAUwBFAF8ARABBAFQAQQBfAFQAWQBQAEUAUwBfAEYATwBSAF8AVABVAE4AQQBCAEwA"
"RQBfAFAAQQBSAEEATQBFAFQARQBSAFMAAAACADEAAAAOAFQAegAzAEcAcABpAG8AAAACADAAAAASA"
"FQAegAzAEUAbgBhAGIAbABlAAAAAgAwAAAADgBUAHoAMgBHAHAAaQBvAAAAAgAwAAAAEgBUAHoAMg"
"BFAG4AYQBiAGwAZQAAAAIAMAAAAA4AVAB6ADEARwBwAGkAbwAAAAIAMAAAABIAVAB6ADEARQBuAGE"
"AYgBsAGUAAAACADAAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEUAAAAMADAAfAB8ADAAfAAw"
"AAAAIABTAGEAbQBwAGwAZQBUAGkAbQBlAFIAZQBsAFQAbwBsAAAABAAxADAAAAAiAEwAaQBuAGsAZ"
"QByAEMAbwBtAG0AYQBuAGQARgBpAGwAZQAAAAAAAAAaAEUAWABUAEUAUgBOAEEATABfAE0ATwBEAE"
"UAAAACADIAAAAOAFQASQAyADgAMAA2AHgAAAAXAAAAEgB1AHMAZQBJAG4AdABPAHMAYwAAAAIAMQA"
"AABgAdQBuAGkAZgBsAGEAcwBoAEYAaQBsAGUAAAAAAAAAFgB0AGEAcwBrAEYAcgBlAHEAVABvAGwA"
"AAACADEAAAASAHMAeQBzAEMAbABrAE0ASAB6AAAABAA5ADAAAAAUAGkAbgBzAHQAYQBsAGwARABpA"
"HIAAAAAAAAADgBnAGUAbgBPAG4AbAB5AAAAAgAyAAAAHABlAHgAdABNAG8AZABlAFMAYwBpAFAAaQ"
"BuAHMAAAAOAFMAQwBJAF8ARABTAFAAAAAiAGUAeAB0AE0AbwBkAGUAQgB1AGYAZgBlAHIAUwBpAHo"
"AZQAAAAgAMgAwADAAMAAAABIAZQB4AHQAQwBsAGsATQBIAHoAAAAEADIAMAAAAAgAYwBoAGkAcAAA"
"AAIAMQAAABYAYgB1AGkAbABkAEMAbwBuAGYAaQBnAAAAAgAyAAAACgBiAG8AYQByAGQAAAACADIAA"
"ABKAFUAUwBFAF8ARABBAFQAQQBfAFQAWQBQAEUAUwBfAEYATwBSAF8AVABVAE4AQQBCAEwARQBfAF"
"AAQQBSAEEATQBFAFQARQBSAFMAAAACADEAAAAOAFQAegAzAEcAcABpAG8AAAACADAAAAASAFQAegA"
"zAEUAbgBhAGIAbABlAAAAAgAwAAAADgBUAHoAMgBHAHAAaQBvAAAAAgAwAAAAEgBUAHoAMgBFAG4A"
"YQBiAGwAZQAAAAIAMAAAAA4AVAB6ADEARwBwAGkAbwAAAAIAMAAAABIAVAB6ADEARQBuAGEAYgBsA"
"GUAAAACADAAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEUAAAAMADAAfAB8ADAAfAAwAAAAIA"
"BTAGEAbQBwAGwAZQBUAGkAbQBlAFIAZQBsAFQAbwBsAAAABAAxADAAAAAiAEwAaQBuAGsAZQByAEM"
"AbwBtAG0AYQBuAGQARgBpAGwAZQAAAAAAAAAaAEUAWABUAEUAUgBOAEEATABfAE0ATwBEAEUAAAAC"
"ADEAAAAQAFQASQAyADgAMAAwADQAeAAAAEwAAAASAHUAcwBlAEkAbgB0AE8AcwBjAAAAAgAxAAAAG"
"AB1AG4AaQBmAGwAYQBzAGgARgBpAGwAZQAAAAAAAAAWAHQAYQBzAGsARgByAGUAcQBUAG8AbAAAAA"
"IAMQAAABIAcwB5AHMAQwBsAGsATQBIAHoAAAAGADEAMAAwAAAADABwAGcAYQA3AFIAZgAAAAIAMQA"
"AABAAcABnAGEANwBHAGEAaQBuAAAAAgAxAAAADABwAGcAYQA3AEUAbgAAAAIAMAAAAAwAcABnAGEA"
"NgBSAGYAAAACADEAAAAQAHAAZwBhADYARwBhAGkAbgAAAAIAMQAAAAwAcABnAGEANgBFAG4AAAACA"
"DAAAAAMAHAAZwBhADUAUgBmAAAAAgAxAAAAEABwAGcAYQA1AEcAYQBpAG4AAAACADEAAAAMAHAAZw"
"BhADUARQBuAAAAAgAwAAAADABwAGcAYQA0AFIAZgAAAAIAMQAAABAAcABnAGEANABHAGEAaQBuAAA"
"AAgAxAAAADABwAGcAYQA0AEUAbgAAAAIAMAAAAAwAcABnAGEAMwBSAGYAAAACADEAAAAQAHAAZwBh"
"ADMARwBhAGkAbgAAAAIAMQAAAAwAcABnAGEAMwBFAG4AAAACADAAAAAMAHAAZwBhADIAUgBmAAAAA"
"gAxAAAAEABwAGcAYQAyAEcAYQBpAG4AAAACADEAAAAMAHAAZwBhADIARQBuAAAAAgAwAAAADABwAG"
"cAYQAxAFIAZgAAAAIAMQAAABAAcABnAGEAMQBHAGEAaQBuAAAAAgAxAAAADABwAGcAYQAxAEUAbgA"
"AAAIAMAAAABQAaQBuAHMAdABhAGwAbABEAGkAcgAAAAAAAAAOAGcAZQBuAE8AbgBsAHkAAAACADIA"
"AAAcAGUAeAB0AE0AbwBkAGUAUwBjAGkAUABpAG4AcwAAAA4AUwBDAEkAXwBEAFMAUAAAACIAZQB4A"
"HQATQBvAGQAZQBCAHUAZgBmAGUAcgBTAGkAegBlAAAACAAyADAAMAAwAAAAEgBlAHgAdABDAGwAaw"
"BNAEgAegAAAAQAMgAwAAAACABjAGgAaQBwAAAAAgAxAAAAFgBiAHUAaQBsAGQAQwBvAG4AZgBpAGc"
"AAAACADIAAAAKAGIAbwBhAHIAZAAAAAIAMgAAAEoAVQBTAEUAXwBEAEEAVABBAF8AVABZAFAARQBT"
"AF8ARgBPAFIAXwBUAFUATgBBAEIATABFAF8AUABBAFIAQQBNAEUAVABFAFIAUwAAAAIAMQAAAA4AV"
"AB6ADMARwBwAGkAbwAAAAIAMAAAABIAVAB6ADMARQBuAGEAYgBsAGUAAAACADAAAAAOAFQAegAyAE"
"cAcABpAG8AAAACADAAAAASAFQAegAyAEUAbgBhAGIAbABlAAAAAgAwAAAADgBUAHoAMQBHAHAAaQB"
"vAAAAAgAwAAAAEgBUAHoAMQBFAG4AYQBiAGwAZQAAAAIAMAAAABoAVABBAFIARwBFAFQAXwBEAEUA"
"VgBJAEMARQAAAAwAMAB8AHwAMAB8ADAAAAAgAFMAYQBtAHAAbABlAFQAaQBtAGUAUgBlAGwAVABvA"
"GwAAAAEADEAMAAAACIATABpAG4AawBlAHIAQwBvAG0AbQBhAG4AZABGAGkAbABlAAAAAAAAABoARQ"
"BYAFQARQBSAE4AQQBMAF8ATQBPAEQARQAAAAIAMQAAACYAQQBuAFQAcgBpAHAANABUAGgAcgBlAHM"
"AaABvAGwAZABMAG8AdwAAAAIAMAAAACgAQQBuAFQAcgBpAHAANABUAGgAcgBlAHMAaABvAGwAZABI"
"AGkAZwBoAAAAAgAwAAAAGgBBAG4AVAByAGkAcAA0AFMAaQBnAG4AYQBsAAAAAgAxAAAAHABBAG4AV"
"AByAGkAcAA0AFAAZwBhAFUAbgBpAHQAAAACADAAAAAgAEEAbgBUAHIAaQBwADQASQBuAHAAdQB0AF"
"QAeQBwAGUAAAACADEAAAAaAEEAbgBUAHIAaQBwADQARQBuAGEAYgBsAGUAAAACADAAAAAcAEEAbgB"
"UAHIAaQBwADQAQQBkAGMAVQBuAGkAdAAAAAIAMQAAACIAQQBuAFQAcgBpAHAANABBAGQAYwBDAGgA"
"YQBuAG4AZQBsAAAAAgAwAAAAJgBBAG4AVAByAGkAcAAzAFQAaAByAGUAcwBoAG8AbABkAEwAbwB3A"
"AAAAgAwAAAAKABBAG4AVAByAGkAcAAzAFQAaAByAGUAcwBoAG8AbABkAEgAaQBnAGgAAAACADAAAA"
"AaAEEAbgBUAHIAaQBwADMAUwBpAGcAbgBhAGwAAAACADEAAAAcAEEAbgBUAHIAaQBwADMAUABnAGE"
"AVQBuAGkAdAAAAAIAMAAAACAAQQBuAFQAcgBpAHAAMwBJAG4AcAB1AHQAVAB5AHAAZQAAAAIAMQAA"
"ABoAQQBuAFQAcgBpAHAAMwBFAG4AYQBiAGwAZQAAAAIAMAAAABwAQQBuAFQAcgBpAHAAMwBBAGQAY"
"wBVAG4AaQB0AAAAAgAxAAAAIgBBAG4AVAByAGkAcAAzAEEAZABjAEMAaABhAG4AbgBlAGwAAAACAD"
"AAAAAmAEEAbgBUAHIAaQBwADIAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAAAAAoAEEAbgB"
"UAHIAaQBwADIAVABoAHIAZQBzAGgAbwBsAGQASABpAGcAaAAAAAIAMAAAABoAQQBuAFQAcgBpAHAA"
"MgBTAGkAZwBuAGEAbAAAAAIAMQAAABwAQQBuAFQAcgBpAHAAMgBQAGcAYQBVAG4AaQB0AAAAAgAwA"
"AAAIABBAG4AVAByAGkAcAAyAEkAbgBwAHUAdABUAHkAcABlAAAAAgAxAAAAGgBBAG4AVAByAGkAcA"
"AyAEUAbgBhAGIAbABlAAAAAgAwAAAAHABBAG4AVAByAGkAcAAyAEEAZABjAFUAbgBpAHQAAAACADE"
"AAAAiAEEAbgBUAHIAaQBwADIAQQBkAGMAQwBoAGEAbgBuAGUAbAAAAAIAMAAAACYAQQBuAFQAcgBp"
"AHAAMQBUAGgAcgBlAHMAaABvAGwAZABMAG8AdwAAAAIAMAAAACgAQQBuAFQAcgBpAHAAMQBUAGgAc"
"gBlAHMAaABvAGwAZABIAGkAZwBoAAAAAgAwAAAAGgBBAG4AVAByAGkAcAAxAFMAaQBnAG4AYQBsAA"
"AAAgAxAAAAHABBAG4AVAByAGkAcAAxAFAAZwBhAFUAbgBpAHQAAAACADAAAAAgAEEAbgBUAHIAaQB"
"wADEASQBuAHAAdQB0AFQAeQBwAGUAAAACADEAAAAaAEEAbgBUAHIAaQBwADEARQBuAGEAYgBsAGUA"
"AAACADAAAAAcAEEAbgBUAHIAaQBwADEAQQBkAGMAVQBuAGkAdAAAAAIAMQAAACIAQQBuAFQAcgBpA"
"HAAMQBBAGQAYwBDAGgAYQBuAG4AZQBsAAAAAgAwAAAADgBHAGUAbgBlAHIAaQBjAAAAAA=="
      CodeGenFloatingPointFormat "1"
      ExternalModeSettings "AAAAfwAAAAAWUU1hcDxRU3RyaW5nLFFTdHJpbmc+AAAAAAcAAA"
"AYAFQAcgBpAGcAZwBlAHIAVgBhAGwAdQBlAAAAAgAwAAAAGABUAHIAaQBnAGcAZQByAEQAZQBsAGE"
"AeQAAAAIAMAAAABwAVAByAGkAZwBnAGUAcgBDAGgAYQBuAG4AZQBsAAAABAAtADEAAAAWAFMAZQBu"
"AHMAaQB0AGkAdgBpAHQAeQAAAAIAMAAAABYAUgBlAGYAcgBlAHMAaABSAGEAdABlAAAABAAyADAAA"
"AAUAE4AdQBtAFMAYQBtAHAAbABlAHMAAAAIADgAMQA5ADIAAAAUAEQAZQBjAGkAbQBhAHQAaQBvAG"
"4AAAAEADEAMA=="
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [54, -35]
        Direction     right
        Index         "1"
      }
      Terminal {
        Type          Input
        Position      [-50, -25]
        Direction     left
        Index         "1"
      }
      Terminal {
        Type          Output
        Position      [-54, 35]
        Direction     left
        Index         "2"
      }
      Terminal {
        Type          Input
        Position      [50, 35]
        Direction     right
        Index         "2"
      }
      Terminal {
        Type          Output
        Position      [54, -15]
        Direction     right
        Index         "3"
      }
      Schematic {
        Location      [128, 349; 1003, 687]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Subsystem
          Name          "Current\ncontroller"
          Show          on
          Position      [645, 140]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "kp"
            Prompt        "Proportional gain"
            Type          FreeText
            Value         "20"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "ki"
            Prompt        "Integral gain"
            Type          FreeText
            Value         "2000"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "fn"
            Prompt        "Mains frequency (Hz)"
            Type          FreeText
            Value         "50"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "upper_lim"
            Prompt        "Upper Saturation Limit"
            Type          FreeText
            Value         "325"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "lower_lim"
            Prompt        "Lower Saturation Limit"
            Type          FreeText
            Value         "-325"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
          Schematic {
            Location      [1210, 411; 1720, 669]
            ZoomFactor    1
            SliderPosition [0, 7]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Input
              Name          "err"
              Show          on
              Position      [40, 125]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "out"
              Show          on
              Position      [430, 125]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Kp"
              Show          on
              Position      [125, 95]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "kp"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Ki"
              Show          on
              Position      [125, 155]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "ki"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Integrator
              Name          "Integrator"
              Show          off
              Position      [275, 160]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "ExternalReset"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "InitialConditionSource"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ShowStatePort"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "EnableWrapping"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "-inf"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum"
              Show          off
              Position      [310, 125]
              Direction     up
              Flipped       off
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "+|+"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Integrator
              Name          "Integrator1"
              Show          off
              Position      [275, 195]
              Direction     right
              Flipped       on
              Parameter {
                Variable      "ExternalReset"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "InitialConditionSource"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ShowStatePort"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "EnableWrapping"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "-inf"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum1"
              Show          off
              Position      [210, 155]
              Direction     up
              Flipped       off
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "w0^2"
              Show          on
              Position      [230, 195]
              Direction     right
              Flipped       on
              Parameter {
                Variable      "K"
                Value         "(2*pi*fn)^2"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation"
              Show          off
              Position      [365, 125]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "UpperLimit"
                Value         "upper_lim"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "lower_lim"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum2"
              Show          off
              Position      [330, 245]
              Direction     down
              Flipped       on
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "+-|"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Gain2"
              Show          off
              Position      [275, 245]
              Direction     right
              Flipped       on
              Parameter {
                Variable      "K"
                Value         "ki/kp"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum3"
              Show          off
              Position      [170, 155]
              Direction     up
              Flipped       off
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "rst"
              Show          on
              Position      [210, 85]
              Direction     left
              Flipped       on
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Kp"
              SrcTerminal   2
              Points        [310, 95]
              DstComponent  "Sum"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "err"
              SrcTerminal   1
              Points        [90, 125]
              Branch {
                Points        [90, 155]
                DstComponent  "Ki"
                DstTerminal   1
              }
              Branch {
                Points        [90, 95]
                DstComponent  "Kp"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum1"
              SrcTerminal   1
              DstComponent  "Integrator"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Integrator1"
              SrcTerminal   2
              DstComponent  "w0^2"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "w0^2"
              SrcTerminal   2
              DstComponent  "Sum1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum2"
              SrcTerminal   1
              DstComponent  "Gain2"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Gain2"
              SrcTerminal   2
              Points        [170, 245]
              DstComponent  "Sum3"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Ki"
              SrcTerminal   2
              DstComponent  "Sum3"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum3"
              SrcTerminal   1
              DstComponent  "Sum1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Integrator"
              SrcTerminal   2
              Points        [310, 160]
              Branch {
                DstComponent  "Sum"
                DstTerminal   3
              }
              Branch {
                Points        [310, 190]
                DstComponent  "Integrator1"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "rst"
              SrcTerminal   1
              Points        [240, 85]
              Branch {
                Points        [325, 85; 325, 200]
                DstComponent  "Integrator1"
                DstTerminal   3
              }
              Branch {
                Points        [240, 165]
                DstComponent  "Integrator"
                DstTerminal   3
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum"
              SrcTerminal   1
              Points        [330, 125]
              Branch {
                DstComponent  "Saturation"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Sum2"
                DstTerminal   2
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation"
              SrcTerminal   2
              Points        [390, 125]
              Branch {
                DstComponent  "out"
                DstTerminal   1
              }
              Branch {
                Points        [390, 245]
                DstComponent  "Sum2"
                DstTerminal   3
              }
            }
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [595, 140]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [375, 140]
          Direction     up
          Flipped       on
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|-+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Voltage\ncontroller"
          Show          on
          Position      [430, 140]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
          Schematic {
            Location      [377, 342; 786, 521]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "I*"
              Show          on
              Position      [315, 105]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "err"
              Show          on
              Position      [100, 105]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "rst"
              Show          on
              Position      [100, 55]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "Type 2 controller"
              Show          on
              Position      [180, 105]
              Direction     up
              Flipped       off
              Frame         [-40, -20; 40, 20]
              LabelPosition [0, 23]
              LabelAlign    up
              SampleTime    "-1"
              CodeGenDiscretizationMethod "2"
              CodeGenTarget "Generic"
              MaskType      "Type 2 controller"
              MaskDescription "Y(s)/U(s)=(n2.s^2+n1.s+n0)/(d2.s^2+d1.s+d0)\n"
              MaskDisplayLang "2"
              MaskIconFrame on
              MaskIconOpaque off
              MaskIconRotates on
              MaskInit      "%calculated numerator coefficients\n"
"b2=1/d2;\n"
"b1=d1/d2;\n"
"b0=d0/d2;\n"
"%calculated denominator coefficients\n"
"a2=n2;\n"
"a1=n1-n2*b1;\n"
"a0=n0-n2*b0;"
              Parameter {
                Variable      "n2"
                Prompt        "Numerator [n2]"
                Type          FreeText
                Value         "0"
                Show          off
                Tunable       off
                TabName       "Numerator "
              }
              Parameter {
                Variable      "n1"
                Prompt        "Numerator [n1]"
                Type          FreeText
                Value         "0.0040 "
                Show          off
                Tunable       off
                TabName       "Numerator "
              }
              Parameter {
                Variable      "n0"
                Prompt        "Numerator [n0]"
                Type          FreeText
                Value         "0.1000"
                Show          off
                Tunable       off
                TabName       "Numerator "
              }
              Parameter {
                Variable      "d2"
                Prompt        "Denominator [d2]"
                Type          FreeText
                Value         "4.2217e-04"
                Show          off
                Tunable       off
                TabName       "Denominator"
              }
              Parameter {
                Variable      "d1"
                Prompt        "Denominator [d1]"
                Type          FreeText
                Value         "0.0398"
                Show          off
                Tunable       off
                TabName       "Denominator"
              }
              Parameter {
                Variable      "d0"
                Prompt        "Denominator [d0]"
                Type          FreeText
                Value         "0"
                Show          off
                Tunable       off
                TabName       "Denominator"
              }
              Parameter {
                Variable      "imax"
                Prompt        "Integrator Max"
                Type          FreeText
                Value         "Iacmax"
                Show          off
                Tunable       off
                TabName       "Saturation"
              }
              Parameter {
                Variable      "imin"
                Prompt        "Integrator Min"
                Type          FreeText
                Value         "-Iacmax"
                Show          off
                Tunable       off
                TabName       "Saturation"
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-5, -20]
                Direction     up
              }
              Schematic {
                Location      [892, 168; 1676, 408]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Input
                  Name          "U(s)"
                  Show          on
                  Position      [60, 115]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "Y(S)"
                  Show          on
                  Position      [615, 125]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Integrator
                  Name          "s"
                  Show          off
                  Position      [180, 120]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "EnableWrapping"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "imax"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "imin"
                    Show          off
                  }
                }
                Component {
                  Type          Integrator
                  Name          "s^2"
                  Show          off
                  Position      [250, 125]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "EnableWrapping"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "imax"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "imin"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d6"
                  Show          off
                  Position      [175, 175]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "K"
                    Value         "b1"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum8"
                  Show          off
                  Position      [120, 115]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "|+-"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum"
                  Show          off
                  Position      [120, 175]
                  Direction     left
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "|++"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d5"
                  Show          off
                  Position      [325, 85]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "a1"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d8"
                  Show          off
                  Position      [325, 45]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "a2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum9"
                  Show          off
                  Position      [380, 125]
                  Direction     up
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "++|"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "Sum10"
                  Show          off
                  Position      [380, 85]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "IconShape"
                    Value         "2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "|++"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d9"
                  Show          off
                  Position      [430, 125]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "b2"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d7"
                  Show          off
                  Position      [175, 215]
                  Direction     right
                  Flipped       on
                  Parameter {
                    Variable      "K"
                    Value         "b0"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "d10"
                  Show          off
                  Position      [325, 125]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "K"
                    Value         "a0"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "rst"
                  Show          on
                  Position      [60, 145]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "Index"
                    Value         "3"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Saturation
                  Name          "Saturation"
                  Show          on
                  Position      [510, 125]
                  Direction     right
                  Flipped       off
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "imax"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "imin"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum8"
                  SrcTerminal   1
                  DstComponent  "s"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d10"
                  SrcTerminal   2
                  DstComponent  "Sum9"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum"
                  SrcTerminal   1
                  DstComponent  "Sum8"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d6"
                  SrcTerminal   2
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d8"
                  SrcTerminal   2
                  Points        [380, 45]
                  DstComponent  "Sum10"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d5"
                  SrcTerminal   2
                  DstComponent  "Sum10"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum10"
                  SrcTerminal   1
                  DstComponent  "Sum9"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Sum9"
                  SrcTerminal   1
                  DstComponent  "d9"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "U(s)"
                  SrcTerminal   1
                  Points        [90, 115]
                  Branch {
                    DstComponent  "Sum8"
                    DstTerminal   2
                  }
                  Branch {
                    Points        [90, 45]
                    DstComponent  "d8"
                    DstTerminal   1
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d7"
                  SrcTerminal   2
                  Points        [120, 215]
                  DstComponent  "Sum"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "rst"
                  SrcTerminal   1
                  Points        [145, 145]
                  Branch {
                    Points        [145, 125]
                    DstComponent  "s"
                    DstTerminal   3
                  }
                  Branch {
                    Points        [220, 145]
                    DstComponent  "s^2"
                    DstTerminal   3
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "s"
                  SrcTerminal   2
                  Points        [210, 120]
                  Branch {
                    DstComponent  "s^2"
                    DstTerminal   1
                  }
                  Branch {
                    Points        [210, 175]
                    DstComponent  "d6"
                    DstTerminal   1
                  }
                  Branch {
                    Points        [210, 85]
                    DstComponent  "d5"
                    DstTerminal   1
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "s^2"
                  SrcTerminal   2
                  Points        [280, 125]
                  Branch {
                    DstComponent  "d10"
                    DstTerminal   1
                  }
                  Branch {
                    Points        [280, 215]
                    DstComponent  "d7"
                    DstTerminal   1
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "d9"
                  SrcTerminal   2
                  DstComponent  "Saturation"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Saturation"
                  SrcTerminal   2
                  DstComponent  "Y(S)"
                  DstTerminal   1
                }
              }
            }
            Component {
              Type          Gain
              Name          "Gain"
              Show          off
              Position      [255, 105]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "1/325"
                Show          on
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "err"
              SrcTerminal   1
              DstComponent  "Type 2 controller"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "rst"
              SrcTerminal   1
              Points        [175, 55]
              DstComponent  "Type 2 controller"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Type 2 controller"
              SrcTerminal   2
              DstComponent  "Gain"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Gain"
              SrcTerminal   2
              DstComponent  "I*"
              DstTerminal   1
            }
          }
        }
        Component {
          Type          Subsystem
          Name          "MPP\ncontroller"
          Show          on
          Position      [280, 140]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "ki"
            Prompt        "ki"
            Type          FreeText
            Value         "10"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "ts"
            Prompt        "Sample time"
            Type          FreeText
            Value         "Ts_MPP"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "v0"
            Prompt        "Initial output"
            Type          FreeText
            Value         "388"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
          Schematic {
            Location      [209, 558; 578, 737]
            ZoomFactor    0.97558
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "v*"
              Show          on
              Position      [340, 80]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "v,i"
              Show          on
              Position      [40, 75]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "ki"
              Show          off
              Position      [195, 75]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "K"
                Value         "ki"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "rst"
              Show          on
              Position      [45, 140]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Integrator
              Name          "Integrator"
              Show          on
              Position      [270, 80]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "ExternalReset"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "InitialConditionSource"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "v0"
                Show          off
              }
              Parameter {
                Variable      "ShowStatePort"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "EnableWrapping"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "UpperLimit"
                Value         "600"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "300"
                Show          off
              }
            }
            Component {
              Type          CScript
              Name          "dP/dV calc"
              Show          on
              Position      [110, 75]
              Direction     up
              Flipped       off
              Parameter {
                Variable      "DialogGeometry"
                Value         "[435 295 588 525]"
                Show          off
              }
              Parameter {
                Variable      "NumInputs"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NumOutputs"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "NumContStates"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "NumDiscStates"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NumZCSignals"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "DirectFeedthrough"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Ts"
                Value         "ts"
                Show          off
              }
              Parameter {
                Variable      "Parameters"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "LangStandard"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "GnuExtensions"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "RuntimeCheck"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Declarations"
                Value         "#define V Input(0)\n"
"#define I Input(1)\n"
"#define P_old DiscState(0)\n"
"#define V_old DiscState(1)\n"
"#define DPDV_MAX 5.F\n"
"#define DV_MIN  1e-3F\n"
"\n"
"//Global variable\n"
"static real_t P;"
                Show          off
              }
              Parameter {
                Variable      "StartFcn"
                Value         "P_old = P;\n"
"V_old = V;\n"
                Show          off
              }
              Parameter {
                Variable      "OutputFcn"
                Value         "real_t dP, dV, dPdV;\n"
"\n"
"P = V*I;\n"
"dP = P - P_old;\n"
"dV = V - V_old;\n"
"\n"
"if (dV >= 0.)\n"
"{\n"
"\tif (dV < DV_MIN)\n"
"   {\n"
"      dV = DV_MIN;\n"
"   }\n"
"}\n"
"else\n"
"{\n"
"   if (dV > -DV_MIN)\n"
"   {\n"
"      dV = -DV_MIN;\n"
"   }\n"
"}\n"
"\n"
"dPdV = dP/dV;\n"
"\n"
"if (dPdV > DPDV_MAX)\n"
"{\n"
"\tdPdV = DPDV_MAX;\n"
"}\n"
"if (dPdV < -DPDV_MAX)\n"
"{\n"
"\tdPdV = -DPDV_MAX;\n"
"}\n"
"\n"
"Output(0) = dPdV;"
                Show          off
              }
              Parameter {
                Variable      "UpdateFcn"
                Value         "P_old = P;\n"
"V_old = V;\n"
"\n"
                Show          off
              }
              Parameter {
                Variable      "DerivativeFcn"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "TerminateFcn"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "StoreCustomStateFcn"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "RestoreCustomStateFcn"
                Value         ""
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "rst"
              SrcTerminal   1
              Points        [240, 140]
              DstComponent  "Integrator"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Integrator"
              SrcTerminal   2
              DstComponent  "v*"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "v,i"
              SrcTerminal   1
              DstComponent  "dP/dV calc"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "ki"
              SrcTerminal   2
              DstComponent  "Integrator"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "dP/dV calc"
              SrcTerminal   2
              DstComponent  "ki"
              DstTerminal   1
            }
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [230, 140]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/PWM"
          Name          "PWM"
          Show          on
          Position      [785, 140]
          Direction     up
          Flipped       off
          Frame         [-25, -25; 25, 25]
          LabelPosition [0, 28]
          LabelAlign    up
          Parameter {
            Variable      "pwm"
            Value         "PWM_DSP_PWM"
            Show          off
          }
          Parameter {
            Variable      "type"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "fs"
            Show          off
          }
          Parameter {
            Variable      "fc_tol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "outmode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "delay"
            Value         "0.1e-6"
            Show          off
          }
          Parameter {
            Variable      "polarity"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "sequence"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "show_enable"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "socsel"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "socsel_prd"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "intsel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "intsel_prd"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "tz1mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "tz2mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "tz3mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Terminal {
            Type          EventOutput
            Position      [29, 15]
            Direction     right
          }
          Terminal {
            Type          EventOutput
            Position      [29, -15]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-25, -10]
            Direction     left
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          off
          Position      [175, 65]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "UpperLimit"
            Value         "2*Vdc0"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0.1*Vdc0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/ADC"
          Name          "ADC"
          Show          on
          Position      [40, 150]
          Direction     up
          Flipped       off
          Frame         [-25, -25; 25, 25]
          LabelPosition [0, 28]
          LabelAlign    up
          Parameter {
            Variable      "trig"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "adc"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "input"
            Value         "ADC_DSP_ADC"
            Show          off
          }
          Parameter {
            Variable      "scale"
            Value         "[1/Vdc_scl, 1/Idc_scl, 1/Vg_scl, 1/Ig_scl]"
            Show          off
          }
          Parameter {
            Variable      "offset"
            Value         "[0, 0, -Vg_ofs/Vg_scl, -Ig_ofs/Ig_scl ]"
            Show          off
          }
          Parameter {
            Variable      "tacqsel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "tacq"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "bits"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "vref"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          EventOutput
            Position      [29, 15]
            Direction     right
          }
          Terminal {
            Type          EventInput
            Position      [0, -25]
            Direction     up
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [85, 150]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Unipolar\nduty"
          Show          on
          Position      [715, 140]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
          Schematic {
            Location      [554, 332; 880, 530]
            ZoomFactor    0.995515
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Product
              Name          "Product"
              Show          off
              Position      [100, 100]
              Direction     up
              Flipped       on
              Parameter {
                Variable      "Inputs"
                Value         "/*"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "Mux1"
              Show          off
              Position      [250, 100]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "Fcn"
              Show          off
              Position      [185, 75]
              Direction     right
              Flipped       off
              Frame         [-20, -10; 20, 10]
              LabelPosition [0, 13]
              LabelAlign    up
              Parameter {
                Variable      "f(u)"
                Value         "u[1]/2+0.5"
                Show          on
              }
            }
            Component {
              Type          Function
              Name          "Fcn1"
              Show          off
              Position      [185, 120]
              Direction     right
              Flipped       off
              Frame         [-20, -10; 20, 10]
              LabelPosition [0, 13]
              LabelAlign    up
              Parameter {
                Variable      "f(u)"
                Value         "-u[1]/2+0.5"
                Show          on
              }
            }
            Component {
              Type          Output
              Name          "d"
              Show          on
              Position      [310, 100]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "V*"
              Show          on
              Position      [25, 95]
              Direction     left
              Flipped       on
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vdc"
              Show          on
              Position      [25, 140]
              Direction     left
              Flipped       on
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Scope
              Name          "Scope"
              Show          on
              Position      [305, 160]
              Direction     up
              Flipped       off
              Location      [640, 312; 1028, 540]
              State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQA"
"FoAbwBvAG0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcw"
"AAAAAA/////wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABmAP///wAAAAMAAAA"
"AAAAAAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABCAP///wAAAYQA"
"AADIAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP///"
"/8AAAAAAAAAAA=="
              SavedViews    "AAAAAgAAAAA="
              HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAA"
"AAJAAAACAAAAGQAAAAJAAAAZAAAAAQAAABkAAAABQAAAGQAAAAGAAAAZAAAAAcAAABkAAAAAQAAAG"
"QAAAACAAAAZAAAAAMAAABkAAAAeQAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAs"
"AAABmAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAA"
"AAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAA"
"QAAAAAAAAATAAAAAQAAAAAAAAPoAAAAABM="
              PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              Axes          "1"
              TimeRange     "0.0"
              ScrollingMode "1"
              SingleTimeAxis "1"
              Open          "0"
              Ts            "-1"
              SampleLimit   "0"
              XAxisLabel    ""
              ShowLegend    "1"
              Axis {
                Name          ""
                AutoScale     1
                MinValue      0
                MaxValue      1
                Signals       {}
                SignalTypes   [ ]
                Untangle      0
                KeepBaseline  off
                BaselineValue 0
              }
              Fourier {
                SingleXAxis       on
                AxisLabel         "Frequency"
                Scaling           0
                PhaseDisplay      0
                ShowFourierLegend off
                Axis {
                  Name          ""
                  AutoScale     1
                  MinValue      0
                  MaxValue      1
                  Signals       {}
                  Untangle      0
                  KeepBaseline  off
                  BaselineValue 0
                }
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Fcn"
              SrcTerminal   2
              Points        [235, 75]
              DstComponent  "Mux1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Fcn1"
              SrcTerminal   2
              Points        [235, 120]
              DstComponent  "Mux1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "V*"
              SrcTerminal   1
              DstComponent  "Product"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Vdc"
              SrcTerminal   1
              Points        [60, 140; 60, 105]
              DstComponent  "Product"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Product"
              SrcTerminal   1
              Points        [125, 100]
              Branch {
                Points        [125, 75]
                DstComponent  "Fcn"
                DstTerminal   1
              }
              Branch {
                Points        [125, 120]
                DstComponent  "Fcn1"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Mux1"
              SrcTerminal   1
              Points        [270, 100]
              Branch {
                DstComponent  "d"
                DstTerminal   1
              }
              Branch {
                Points        [270, 160]
                DstComponent  "Scope"
                DstTerminal   1
              }
            }
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Control Task\\nTrigger"
          Name          "Control Task\nTrigger"
          Show          off
          Position      [105, 190]
          Direction     right
          Flipped       off
        }
        Component {
          Type          Delay
          Name          "Delay1"
          Show          off
          Position      [200, 280]
          Direction     left
          Flipped       off
          Parameter {
            Variable      "N"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "floor(0.5/Ts_LED)*Ts_LED"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator1"
          Show          off
          Position      [200, 305]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Digital Out"
          Name          "LED Blinking"
          Show          on
          Position      [280, 280]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "gpio"
            Value         "DO_DSP_LED"
            Show          off
          }
          Parameter {
            Variable      "OutputType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "3"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          Goto
          Name          "Goto"
          Show          off
          Position      [410, 255]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "rst"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Digital In"
          Name          "En"
          Show          on
          Position      [370, 280]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "gpio"
            Value         "DI_DSP_En"
            Show          off
          }
          Parameter {
            Variable      "InputType"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "4"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
        }
        Component {
          Type          From
          Name          "From"
          Show          off
          Position      [625, 100]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "rst"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From1"
          Show          off
          Position      [415, 100]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "rst"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          PlecsProbe
          Name          "Probe"
          Show          off
          Position      [575, 280]
          Direction     right
          Flipped       off
        }
        Component {
          Type          SignalDemux
          Name          "Demux1"
          Show          off
          Position      [620, 280]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "[2 3]"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope"
          Show          on
          Position      [655, 280]
          Direction     up
          Flipped       off
          Location      [859, 483; 1432, 781]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAABofwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAFwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwIAAA"
"RVAAABsAAAAMgAAAB4+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAaEAAABmAP///wAAAAMAAANBAAA"
"AXPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAAA0EAAABCAP///wAAAj0AAAEO"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAEAAAAYAFMAYQB2AGUAZAAgAHYAaQBlAHcAIAAxAAAAA"
"AAAAABAAcLtu1ndwgAAAAIAf/gAAAAAAAB/+AAAAAAAAAB/+AAAAAAAAH/4AAAAAAAAAT/nA2uPmx"
"MXP/cDa4+bExcA"
          HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJA"
"AAABAAAAGQAAAAHAAAAZAAAAAYAAABkAAAAAQAAAGQAAAADAAAAZAAAAAIAAABkAAAACQAAAGQAAA"
"AIAAAAZAAAAAUAAABkAAAA3QAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAD"
"KAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAA"
"AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAA"
"AAAAAATAAAAAQAAAAAAAAPoAAAAABM="
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"QAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="
          Axes          "2"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time (s)"
          ShowLegend    "2"
          Axis {
            Name          "PV String Voltage"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Reference", "Measurement"}
            SignalTypes   [ ]
            AxisLabel     "V"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          "Grid Current"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Reference", "Measurement", "Peak Current Reference"}
            SignalTypes   [ ]
            AxisLabel     "A"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Reference", "Measurement"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Reference", "Measurement", "Peak Current Referen"
"ce"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          From
          Name          "From2"
          Show          off
          Position      [265, 100]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "rst"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          TaskFrame
          Name          "Task Frame"
          Show          off
          Position      [270, 140]
          Direction     up
          Flipped       off
          Frame         [-62, -52; 62, 52]
          Parameter {
            Variable      "Task"
            Value         "MPP Control Task"
            Show          off
          }
        }
        Component {
          Type          TaskFrame
          Name          "Task Frame1"
          Show          off
          Position      [415, 140]
          Direction     up
          Flipped       off
          Frame         [-62, -52; 62, 52]
          Parameter {
            Variable      "Task"
            Value         "Voltage Control Task"
            Show          off
          }
        }
        Component {
          Type          TaskFrame
          Name          "Task Frame2"
          Show          off
          Position      [240, 285]
          Direction     up
          Flipped       off
          Frame         [-82, -42; 82, 42]
          Parameter {
            Variable      "Task"
            Value         "LED Task"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Current\nreference"
          Show          on
          Position      [535, 140]
          Direction     up
          Flipped       off
          Frame         [-30, -20; 30, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [34, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-30, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, 0]
            Direction     left
          }
          Schematic {
            Location      [224, 289; 421, 435]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Function
              Name          "Fcn"
              Show          off
              Position      [125, 80]
              Direction     right
              Flipped       off
              Frame         [-20, -10; 20, 10]
              LabelPosition [0, 13]
              LabelAlign    up
              Parameter {
                Variable      "f(u)"
                Value         "u[1]*u[2]"
                Show          on
              }
            }
            Component {
              Type          SignalMux
              Name          "Mux1"
              Show          off
              Position      [65, 80]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "Igrid*"
              Show          on
              Position      [215, 80]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vgrid"
              Show          on
              Position      [30, 85]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "I*"
              Show          on
              Position      [30, 55]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Mux1"
              SrcTerminal   1
              DstComponent  "Fcn"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Fcn"
              SrcTerminal   2
              DstComponent  "Igrid*"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Vgrid"
              SrcTerminal   1
              DstComponent  "Mux1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "I*"
              SrcTerminal   1
              DstComponent  "Mux1"
              DstTerminal   2
            }
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Powerstage Protection"
          Name          "Power"
          Show          on
          Position      [475, 280]
          Direction     up
          Flipped       off
          Frame         [-45, -25; 45, 25]
          LabelPosition [0, 28]
          LabelAlign    up
          Parameter {
            Variable      "EnableSignal"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableSignalPolarity"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableSignalGpio"
            Value         "PWR_DSP_GPIO"
            Show          off
          }
          Parameter {
            Variable      "PwmSafeState"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Tz1Mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Tz2Mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Tz3Mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TsigAMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TsigBMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TsigCMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "SimInterlock"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "5"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-45, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [49, 0]
            Direction     right
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Load"
          Name          "Load"
          Show          on
          Position      [725, 280]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "TargetPortIndices"
            Value         ""
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Output
            Position      [29, 10]
            Direction     right
          }
        }
        Component {
          Type          Display
          Name          "%"
          Show          on
          Position      [795, 280]
          Direction     up
          Flipped       off
          Frame         [-21, -11; 21, 11]
          LabelPosition [0, 14]
          LabelAlign    up
          Parameter {
            Variable      "Notation"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Precision"
            Value         "2"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Delay1"
          SrcTerminal   2
          Points        [165, 280; 165, 305]
          DstComponent  "Logical\nOperator1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator1"
          SrcTerminal   1
          Points        [235, 305; 235, 280]
          Branch {
            DstComponent  "LED Blinking"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Delay1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "En"
          SrcTerminal   1
          Points        [410, 280]
          Branch {
            DstComponent  "Power"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Goto"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "ADC"
          SrcTerminal   1
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Event
          SrcComponent  "PWM"
          SrcTerminal   3
          Points        [820, 125; 820, 45; 40, 45]
          DstComponent  "ADC"
          DstTerminal   3
        }
        Connection {
          Type          Event
          SrcComponent  "ADC"
          SrcTerminal   2
          Points        [75, 165]
          DstComponent  "Control Task\nTrigger"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          DstComponent  "Current\ncontroller"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          DstComponent  "Voltage\ncontroller"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Current\ncontroller"
          SrcTerminal   2
          DstComponent  "Unipolar\nduty"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          Points        [135, 135; 135, 65]
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          DstComponent  "Mux"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   5
          Points        [140, 165; 140, 215; 595, 215]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [200, 65]
          Branch {
            Points        [200, 135]
            DstComponent  "Mux"
            DstTerminal   2
          }
          Branch {
            Points        [340, 65]
            Branch {
              Points        [715, 65]
              DstComponent  "Unipolar\nduty"
              DstTerminal   3
            }
            Branch {
              Points        [340, 110; 375, 110]
              DstComponent  "Sum"
              DstTerminal   3
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Probe"
          SrcTerminal   1
          DstComponent  "Demux1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   2
          DstComponent  "Scope"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   3
          DstComponent  "Scope"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "MPP\ncontroller"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "MPP\ncontroller"
          SrcTerminal   1
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "From2"
          SrcTerminal   1
          Points        [280, 100]
          DstComponent  "MPP\ncontroller"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "From1"
          SrcTerminal   1
          Points        [430, 100]
          DstComponent  "Voltage\ncontroller"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "From"
          SrcTerminal   1
          Points        [645, 100]
          DstComponent  "Current\ncontroller"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Unipolar\nduty"
          SrcTerminal   1
          DstComponent  "PWM"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Current\nreference"
          SrcTerminal   1
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   4
          Points        [150, 155; 150, 205; 490, 205]
          DstComponent  "Current\nreference"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Voltage\ncontroller"
          SrcTerminal   1
          DstComponent  "Current\nreference"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Load"
          SrcTerminal   1
          DstComponent  "%"
          DstTerminal   1
        }
        Annotation {
          Name          "Vdc"
          Position      [100, 130]
          HorizontalAlignment "left"
        } 
        Annotation {
          Name          "Vgrid"
          Position      [100, 150]
          HorizontalAlignment "left"
        } 
        Annotation {
          Name          "Igrid"
          Position      [100, 160]
          HorizontalAlignment "left"
        } 
        Annotation {
          Name          "Idc"
          Position      [100, 140]
          HorizontalAlignment "left"
        } 
      }
    }
    Component {
      Type          Subsystem
      Name          "Plant"
      Show          on
      Position      [355, 170]
      Direction     up
      Flipped       off
      Frame         [-95, -50; 95, 50]
      LabelPosition [0, 53]
      LabelAlign    up
      TreatAsAtomicUnit on
      SampleTime    "-1"
      TaskingMode "1"
      CodeGenEnable on
      CodeGenSampleTime "Ts_plant"
      CodeGenDiscretizationMethod "2"
      CodeGenInliningExceptions "AAAACwAAAAACAAAAHABUAGUAbQBwACAAWwAwADoANQAwA"
"F0AIAC6AEMAAAAUAEkAcgByAGEAZABpAGEAbgBjAGU="
      CodeGenTarget "PLECS RT Box 1"
      CodeGenTargetSettings "AAAAfwAAAAAlUU1hcDxRU3RyaW5nLFFNYXA8UVN0cmluZyxRU"
"3RyaW5nPiA+AAAAAAIAAAAcAFAATABFAEMAUwAgAFIAVAAgAEIAbwB4ACAAMQAAABYAAAAeAHMAeQ"
"BuAGMAaAByAG8AbgBpAHoAZQBUAGkAbQBlAAAAAgAwAAAAGABzAHQAYQByAHQAdQBwAFMARgBQAF8"
"ARAAAAAIAMAAAABgAcwB0AGEAcgB0AHUAcABTAEYAUABfAEMAAAACADAAAAAYAHMAdABhAHIAdAB1"
"AHAAUwBGAFAAXwBCAAAAAgAwAAAAGABzAHQAYQByAHQAdQBwAFMARgBQAF8AQQAAAAIAMAAAABoAc"
"wBhAG0AcABsAGkAbgBnAEQAZQBsAGEAeQAAAAIAMAAAABgAbQBhAHgAXwBvAHYAZQByAHIAdQBuAH"
"MAAAACADUAAAASAG0AYQBzAHQAZQByAFMARgBQAAAAAgAxAAAAJABkAGkAZwBpAHQAYQBsAE8AdQB"
"0AHAAdQB0AEwAZQB2AGUAbAAAAAIAMQAAABAAYwBhAG4AMgBUAHgAUgB4AAAAAgAxAAAAHgBjAGEA"
"bgAyAFQAZQByAG0AaQBuAGEAdABpAG8AbgAAAAIAMgAAABQAYwBhAG4AMgBFAG4AYQBiAGwAZQAAA"
"AIAMAAAABAAYwBhAG4AMgBCAGEAdQBkAAAADAA1ADAAMAAwADAAMAAAABAAYwBhAG4AMQBUAHgAUg"
"B4AAAAAgAxAAAAHgBjAGEAbgAxAFQAZQByAG0AaQBuAGEAdABpAG8AbgAAAAIAMgAAABQAYwBhAG4"
"AMQBFAG4AYQBiAGwAZQAAAAIAMAAAABAAYwBhAG4AMQBCAGEAdQBkAAAADAA1ADAAMAAwADAAMAAA"
"ABwAYQBuAGEAbABvAGcAUwBhAG0AcABsAGkAbgBnAAAAAgAxAAAAIgBhAG4AYQBsAG8AZwBPAHUAd"
"ABwAHUAdABSAGEAbgBnAGUAAAACADEAAAAgAGEAbgBhAGwAbwBnAEkAbgBwAHUAdABSAGEAbgBnAG"
"UAAAACADEAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEUAAAAAAAAAGgBFAFgAVABFAFIATgB"
"BAEwAXwBNAE8ARABFAAAAAgAxAAAADgBHAGUAbgBlAHIAaQBjAAAAAA=="
      ExternalModeSettings "AAAAfwAAAAAWUU1hcDxRU3RyaW5nLFFTdHJpbmc+AAAAAAcAAA"
"AYAFQAcgBpAGcAZwBlAHIAVgBhAGwAdQBlAAAACAAyADQAMAAwAAAAGABUAHIAaQBnAGcAZQByAEQ"
"AZQBsAGEAeQAAAAIAMAAAABwAVAByAGkAZwBnAGUAcgBDAGgAYQBuAG4AZQBsAAAABAAtADEAAAAW"
"AFMAZQBuAHMAaQB0AGkAdgBpAHQAeQAAAAIAMAAAABYAUgBlAGYAcgBlAHMAaABSAGEAdABlAAAAB"
"AAyADAAAAAUAE4AdQBtAFMAYQBtAHAAbABlAHMAAAAMADIANgAyADEANAA0AAAAFABEAGUAYwBpAG"
"0AYQB0AGkAbwBuAAAAAgA2"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [99, -20]
        Direction     right
        Index         "1"
      }
      Terminal {
        Type          Output
        Position      [99, -30]
        Direction     right
        Index         "2"
      }
      Terminal {
        Type          Input
        Position      [-95, -35]
        Direction     left
        Index         "1"
      }
      Terminal {
        Type          Output
        Position      [-99, 35]
        Direction     left
        Index         "3"
      }
      Terminal {
        Type          Input
        Position      [-95, 15]
        Direction     left
        Index         "2"
      }
      Terminal {
        Type          Input
        Position      [-95, -15]
        Direction     left
        Index         "3"
      }
      Terminal {
        Type          Output
        Position      [99, 35]
        Direction     right
        Index         "4"
      }
      Terminal {
        Type          Output
        Position      [99, 15]
        Direction     right
        Index         "5"
      }
      Schematic {
        Location      [652, 52; 1416, 439]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Voltmeter
          Name          "Vm1"
          Show          off
          Position      [180, 80]
          Direction     down
          Flipped       on
        }
        Component {
          Type          ACVoltageSource
          Name          "Vgrid"
          Show          on
          Position      [665, 85]
          Direction     down
          Flipped       on
          Parameter {
            Variable      "V"
            Value         "Vgrid"
            Show          off
          }
          Parameter {
            Variable      "w"
            Value         "2*pi*Fgrid"
            Show          off
          }
          Parameter {
            Variable      "phi"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Grid"
          Show          on
          Position      [705, 220]
          Direction     up
          Flipped       off
          Location      [0, 237; 483, 790]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAACrAAACSvwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAIQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAkoAAABmAP///wAAAAMAAAH2AAA"
"AkPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAAAfYAAABCAP///wAAAeMAAAIN"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJA"
"AAABAAAAGQAAAAHAAAAZAAAAAYAAABkAAAAAQAAAGQAAAADAAAAZAAAAAIAAABkAAAACQAAAGQAAA"
"AIAAAAZAAAAAUAAABkAAAAgQAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAB"
"uAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAA"
"AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAA"
"AAAAAATAAAAAQAAAAAAAAPoAAAAABM="
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"QAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAA=="
          Axes          "3"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time (s)"
          ShowLegend    "1"
          Axis {
            Name          "Grid Voltage"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Vgrid"}
            SignalTypes   [ ]
            AxisLabel     "Voltage (V)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          "Grid Current"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Igrid"}
            SignalTypes   [ ]
            AxisLabel     "Current (A)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          "Grid Power"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Pgrid"}
            SignalTypes   [ ]
            AxisLabel     "Power (W)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Vgrid"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Igrid"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Pgrid"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          Voltmeter
          Name          "Vm2"
          Show          off
          Position      [610, 85]
          Direction     up
          Flipped       off
        }
        Component {
          Type          PlecsProbe
          Name          "PV V,I,P"
          Show          on
          Position      [570, 300]
          Direction     right
          Flipped       off
        }
        Component {
          Type          PlecsProbe
          Name          "Vac"
          Show          on
          Position      [570, 210]
          Direction     right
          Flipped       off
        }
        Component {
          Type          PlecsProbe
          Name          "Iac"
          Show          on
          Position      [570, 255]
          Direction     right
          Flipped       off
        }
        Component {
          Type          Scope
          Name          "PV string"
          Show          on
          Position      [705, 300]
          Direction     up
          Flipped       off
          Location      [473, 227; 993, 790]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAACrAAADBPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAIQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAwQAAABmAP///wAAAAMAAARjAAA"
"AkPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAABGMAAABCAP///wAAAggAAAIX"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJA"
"AAAAQAAAGQAAAACAAAAZAAAAAMAAABkAAAABAAAAGQAAAAFAAAAZAAAAAYAAABkAAAABwAAAGQAAA"
"AIAAAAZAAAAAkAAABkAAAAigAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAB"
"3AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAA"
"AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAA"
"AAAAAATAAAAAQAAAAAAAAPoAAAAABM="
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"QAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAA=="
          Axes          "3"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time (s)"
          ShowLegend    "1"
          Axis {
            Name          "String Voltage"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Vdc"}
            SignalTypes   [ ]
            AxisLabel     "Voltage (V)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          "String Current"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Idc"}
            SignalTypes   [ ]
            AxisLabel     "Current (A)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          "String Power"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {"Pdc"}
            SignalTypes   [ ]
            AxisLabel     "Power (W)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Vdc"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Idc"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {"Pdc"}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [645, 250]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [640, 300]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          XYPlot
          Name          "P vs V"
          Show          on
          Position      [705, 355]
          Direction     up
          Flipped       off
          Location      [934, 240; 1267, 489]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGYA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAA"
"AAP////8AAAB4AP///wAAAU0AAADdAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQA"
"bwBvAGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   ""
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          TimeRange     "0.0"
          ShownPeriods  "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Voltage (V)"
          AspectRatioX  "-1"
          AspectRatioY  "-1"
          PlotStyle     "1"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            AxisLabel     "Power (W)"
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            AxisLabel     "Voltage (V)"
          }
        }
        Component {
          Type          Subsystem
          Name          "PV"
          Show          on
          Position      [105, 85]
          Direction     up
          Flipped       off
          Frame         [-10, -20; 10, 20]
          LabelPosition [0, 0]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskType      "PV String"
          MaskDescription "Models a PV string comprising BP365 65W modules."
          MaskDisplay   "line([-10 0 10], [-20 -7 -20])"
          MaskIconFrame on
          MaskIconOpaque on
          MaskIconRotates on
          MaskInit      "load('pv_lookup_data_bp365.mat');\n"
"PV_V = 0:0.05:25;\n"
"PV_Sun = 0:0.1:1;\n"
"PV_T = 0:25:50;"
          Parameter {
            Variable      "n"
            Prompt        "Number of PV modules in string"
            Type          FreeText
            Value         "22"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "llstrings"
            Prompt        "Number of strings in parallel"
            Type          FreeText
            Value         "2"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Port
            Position      [0, -25]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 25]
            Direction     down
          }
          Terminal {
            Type          Input
            Position      [-10, -10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-10, 10]
            Direction     left
          }
          Schematic {
            Location      [292, 445; 903, 680]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Ammeter
              Name          "I_PV"
              Show          off
              Position      [275, 85]
              Direction     left
              Flipped       off
            }
            Component {
              Type          SignalMux
              Name          "CMux"
              Show          off
              Position      [295, 40]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          CurrentSource
              Name          "I1"
              Show          on
              Position      [160, 125]
              Direction     down
              Flipped       on
              Parameter {
                Variable      "DiscretizationBehavior"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "StateSpaceInlining"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Voltmeter
              Name          "V1"
              Show          on
              Position      [255, 125]
              Direction     down
              Flipped       on
            }
            Component {
              Type          Function
              Name          "Power"
              Show          on
              Position      [340, 40]
              Direction     right
              Flipped       off
              Frame         [-20, -10; 20, 10]
              LabelPosition [0, 13]
              LabelAlign    up
              Parameter {
                Variable      "f(u)"
                Value         "u[1]*u[2]"
                Show          off
              }
            }
            Component {
              Type          Port
              Name          "+"
              Show          on
              Position      [337, 85]
              Direction     right
              Flipped       on
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Port
              Name          "-"
              Show          on
              Position      [337, 165]
              Direction     right
              Flipped       on
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Sun"
              Show          on
              Position      [45, 125]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "1/num_panels"
              Show          on
              Position      [110, 75]
              Direction     left
              Flipped       off
              Frame         [-20, -10; 20, 10]
              LabelPosition [0, -13]
              LabelAlign    down
              Parameter {
                Variable      "f(u)"
                Value         "u[1]/n"
                Show          off
              }
            }
            Component {
              Type          Lookup3D
              Name          "3D-Table"
              Show          on
              Position      [110, 125]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "x"
                Value         "PV_V"
                Show          off
              }
              Parameter {
                Variable      "y"
                Value         "PV_Sun"
                Show          off
              }
              Parameter {
                Variable      "z"
                Value         "PV_T"
                Show          off
              }
              Parameter {
                Variable      "f(x,y,z)"
                Value         "Isurf_BP365_T25*llstrings"
                Show          off
              }
              Parameter {
                Variable      "ZeroCrossingSignals"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "T"
              Show          on
              Position      [45, 155]
              Direction     right
              Flipped       off
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Resistor
              Name          "R1"
              Show          off
              Position      [305, 125]
              Direction     up
              Flipped       off
              Parameter {
                Variable      "R"
                Value         "380^2/(3000*1e-3)"
                Show          off
              }
            }
            Connection {
              Type          Wire
              SrcComponent  "I_PV"
              SrcTerminal   1
              Points        [255, 85]
              Branch {
                Points        [160, 85]
                DstComponent  "I1"
                DstTerminal   2
              }
              Branch {
                DstComponent  "V1"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "I_PV"
              SrcTerminal   3
              Points        [275, 45]
              DstComponent  "CMux"
              DstTerminal   3
            }
            Connection {
              Type          Wire
              SrcComponent  "V1"
              SrcTerminal   2
              Points        [255, 165]
              Branch {
                Points        [160, 165]
                DstComponent  "I1"
                DstTerminal   1
              }
              Branch {
                Points        [305, 165]
                Branch {
                  DstComponent  "-"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "R1"
                  DstTerminal   2
                }
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Sun"
              SrcTerminal   1
              DstComponent  "3D-Table"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "CMux"
              SrcTerminal   1
              DstComponent  "Power"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "1/num_panels"
              SrcTerminal   2
              Points        [70, 75; 70, 115]
              DstComponent  "3D-Table"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "T"
              SrcTerminal   1
              Points        [70, 155; 70, 135]
              DstComponent  "3D-Table"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "V1"
              SrcTerminal   3
              Points        [225, 125; 225, 75]
              Branch {
                Points        [225, 35]
                DstComponent  "CMux"
                DstTerminal   2
              }
              Branch {
                DstComponent  "1/num_panels"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "3D-Table"
              SrcTerminal   4
              DstComponent  "I1"
              DstTerminal   3
            }
            Connection {
              Type          Wire
              SrcComponent  "I_PV"
              SrcTerminal   2
              Points        [305, 85]
              Branch {
                DstComponent  "+"
                DstTerminal   1
              }
              Branch {
                DstComponent  "R1"
                DstTerminal   1
              }
            }
          }
          MaskProbe {
            Name          "PV Voltage"
            Probe {
              Component     "V1"
              Path          ""
              Signals       {"Measured voltage"}
            }
          }
          MaskProbe {
            Name          "PV Current"
            Probe {
              Component     "I_PV"
              Path          ""
              Signals       {"Measured current"}
            }
          }
          MaskProbe {
            Name          "PV Power"
            Probe {
              Component     "Power"
              Path          ""
              Signals       {"Output"}
            }
          }
        }
        Component {
          Type          Capacitor
          Name          "C1"
          Show          off
          Position      [200, 80]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "C"
            Value         "1.5e-3"
            Show          on
          }
          Parameter {
            Variable      "v_init"
            Value         "388"
            Show          on
          }
        }
        Component {
          Type          Inductor
          Name          "L3"
          Show          off
          Position      [480, 45]
          Direction     left
          Flipped       off
          Parameter {
            Variable      "L"
            Value         "2e-3"
            Show          on
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Capacitor
          Name          "C2"
          Show          off
          Position      [510, 65]
          Direction     down
          Flipped       on
          Parameter {
            Variable      "C"
            Value         "4.7e-6"
            Show          on
          }
          Parameter {
            Variable      "v_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L4"
          Show          off
          Position      [540, 45]
          Direction     left
          Flipped       off
          Parameter {
            Variable      "L"
            Value         "3e-3"
            Show          on
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R3"
          Show          off
          Position      [510, 100]
          Direction     down
          Flipped       on
          Parameter {
            Variable      "R"
            Value         "10"
            Show          on
          }
        }
        Component {
          Type          Resistor
          Name          "R1"
          Show          off
          Position      [435, 45]
          Direction     left
          Flipped       on
          Parameter {
            Variable      "R"
            Value         "0.02"
            Show          on
          }
        }
        Component {
          Type          Resistor
          Name          "R2"
          Show          off
          Position      [585, 45]
          Direction     left
          Flipped       on
          Parameter {
            Variable      "R"
            Value         "0.03"
            Show          on
          }
        }
        Component {
          Type          Ammeter
          Name          "Am2"
          Show          off
          Position      [565, 125]
          Direction     right
          Flipped       off
        }
        Component {
          Type          Constant
          Name          base64 "VGVtcCBbMDo1MF0gwrpD"
          Show          on
          Position      [50, 110]
          Direction     right
          Flipped       off
          Frame         [-10, -10; 10, 10]
          LabelPosition [0, 13]
          LabelAlign    up
          Parameter {
            Variable      "Value"
            Value         "25"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          PlecsProbe
          Name          "PV V, I"
          Show          on
          Position      [570, 355]
          Direction     right
          Flipped       off
        }
        Component {
          Type          SignalDemux
          Name          "Demux1"
          Show          off
          Position      [645, 355]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Analog Out1"
          Name          "AC Out"
          Show          on
          Position      [695, 155]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "AO_RTBox_AC"
            Show          off
          }
          Parameter {
            Variable      "scale"
            Value         "[Vg_scl, Ig_scl]*AO_Factor"
            Show          off
          }
          Parameter {
            Variable      "offset"
            Value         "[Vg_ofs, Ig_ofs]*AO_Factor"
            Show          off
          }
          Parameter {
            Variable      "minOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "maxOutput"
            Value         "AO_Vmax"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Analog Out1"
          Name          "DC Out"
          Show          on
          Position      [75, 165]
          Direction     down
          Flipped       on
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "AO_RTBox_DC"
            Show          off
          }
          Parameter {
            Variable      "scale"
            Value         "[Vdc_scl,Idc_scl]*AO_Factor"
            Show          off
          }
          Parameter {
            Variable      "offset"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "minOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "maxOutput"
            Value         "AO_Vmax"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [650, 155]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux1"
          Show          off
          Position      [120, 165]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          PulseGenerator
          Name          "Irradiance"
          Show          on
          Position      [55, 65]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Hi"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Lo"
            Value         "0.7"
            Show          off
          }
          Parameter {
            Variable      "f"
            Value         "0.25"
            Show          off
          }
          Parameter {
            Variable      "DutyCycle"
            Value         "0.5"
            Show          off
          }
          Parameter {
            Variable      "Delay"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux3"
          Show          off
          Position      [180, 240]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto1"
          Show          off
          Position      [240, 225]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s1"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto2"
          Show          off
          Position      [205, 235]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s2"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto3"
          Show          off
          Position      [240, 245]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s3"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto4"
          Show          off
          Position      [205, 255]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s4"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/PWM Capture1"
          Name          "PWM"
          Show          on
          Position      [75, 235]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "PWMCAP_RTBox_sw"
            Show          off
          }
          Parameter {
            Variable      "polarity"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "inputType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "Ts_plant"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "3"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Digital Out1"
          Name          "Enable sw on MCU"
          Show          on
          Position      [470, 235]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "DO_RTBox_En"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "4"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Digital In1"
          Name          "Enable slide sw"
          Show          on
          Position      [355, 235]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "29"
            Show          on
          }
          Parameter {
            Variable      "inputType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "5"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Digital In1"
          Name          "Power"
          Show          on
          Position      [75, 305]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "DI_RTBox_Power"
            Show          off
          }
          Parameter {
            Variable      "inputType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "6"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
        }
        Component {
          Type          SignalSwitch
          Name          "Switch"
          Show          off
          Position      [140, 240]
          Direction     left
          Flipped       on
          Parameter {
            Variable      "Criteria"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Threshold"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Digital Out1"
          Name          "Powerstage enabled\n(LED)"
          Show          on
          Position      [245, 305]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "29"
            Show          on
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "7"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          Delay
          Name          "Delay2"
          Show          off
          Position      [370, 310]
          Direction     right
          Flipped       on
          Parameter {
            Variable      "N"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "Ts_plant*floor(0.5/Ts_plant)"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator2"
          Show          off
          Position      [370, 335]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "PLECSRTBoxLib/Digital Out1"
          Name          "LED Blinking"
          Show          on
          Position      [450, 310]
          Direction     up
          Flipped       off
          Frame         [-25, -20; 25, 20]
          LabelPosition [0, 23]
          LabelAlign    up
          Parameter {
            Variable      "channel"
            Value         "31"
            Show          on
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "8"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator"
          Show          off
          Position      [175, 305]
          Direction     up
          Flipped       off
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From"
          Show          off
          Position      [255, 50]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s1"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From1"
          Show          off
          Position      [255, 110]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s2"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From2"
          Show          off
          Position      [335, 50]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s3"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From3"
          Show          off
          Position      [335, 110]
          Direction     right
          Flipped       off
          Parameter {
            Variable      "Tag"
            Value         "s4"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MFB1"
          Name          "MFB1"
          Show          off
          Position      [335, 80]
          Direction     up
          Flipped       off
          Frame         [-60, -60; 60, 60]
          LabelPosition [-45, 0]
          LabelAlign    right
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-60, -30]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [65, -5]
            Direction     right
          }
          Terminal {
            Type          Port
            Position      [65, 5]
            Direction     right
          }
          Terminal {
            Type          Port
            Position      [-65, -55]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-60, 30]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [-65, 55]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [20, -30]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [20, 30]
            Direction     left
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [155, 135]
          Direction     right
          Flipped       off
        }
        Connection {
          Type          Wire
          SrcComponent  "C1"
          SrcTerminal   1
          Points        [200, 25]
          Branch {
            Points        [180, 25]
            Branch {
              Points        [105, 25]
              DstComponent  "PV"
              DstTerminal   1
            }
            Branch {
              DstComponent  "Vm1"
              DstTerminal   1
            }
          }
          Branch {
            DstComponent  "MFB1"
            DstTerminal   4
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "C1"
          SrcTerminal   2
          Points        [200, 135]
          Branch {
            Points        [180, 135]
            Branch {
              DstComponent  "Am1"
              DstTerminal   1
            }
            Branch {
              DstComponent  "Vm1"
              DstTerminal   2
            }
          }
          Branch {
            DstComponent  "MFB1"
            DstTerminal   6
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          Points        [670, 250; 670, 230]
          DstComponent  "Grid"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Vac"
          SrcTerminal   1
          Points        [610, 210]
          Branch {
            Points        [610, 245]
            DstComponent  "Product"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Grid"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Iac"
          SrcTerminal   1
          Points        [600, 255]
          Branch {
            Points        [600, 220]
            DstComponent  "Grid"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Product"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          DstComponent  "PV string"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          DstComponent  "PV string"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   4
          DstComponent  "PV string"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   3
          DstComponent  "P vs V"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   2
          DstComponent  "P vs V"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  base64 "VGVtcCBbMDo1MF0gwrpD"
          SrcTerminal   1
          Points        [80, 110]
          DstComponent  "PV"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "L3"
          SrcTerminal   1
          DstComponent  "R1"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "L3"
          SrcTerminal   2
          Points        [510, 45]
          Branch {
            DstComponent  "C2"
            DstTerminal   1
          }
          Branch {
            DstComponent  "L4"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "R3"
          SrcTerminal   1
          DstComponent  "C2"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "L4"
          SrcTerminal   2
          DstComponent  "R2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "PV V, I"
          SrcTerminal   1
          DstComponent  "Demux1"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am2"
          SrcTerminal   2
          Points        [510, 125]
          Branch {
            DstComponent  "R3"
            DstTerminal   2
          }
          Branch {
            Points        [410, 125; 410, 85]
            DstComponent  "MFB1"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "AC Out"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Irradiance"
          SrcTerminal   1
          Points        [80, 65]
          DstComponent  "PV"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   2
          DstComponent  "Goto1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   3
          DstComponent  "Goto2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   4
          DstComponent  "Goto3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   5
          DstComponent  "Goto4"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Delay2"
          SrcTerminal   2
          Points        [335, 310; 335, 335]
          DstComponent  "Logical\nOperator2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Power"
          SrcTerminal   1
          Points        [140, 305]
          Branch {
            DstComponent  "Switch"
            DstTerminal   4
          }
          Branch {
            DstComponent  "Logical\nOperator"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Enable slide sw"
          SrcTerminal   1
          DstComponent  "Enable sw on MCU"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator"
          SrcTerminal   1
          DstComponent  "Powerstage enabled\n(LED)"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From"
          SrcTerminal   1
          DstComponent  "MFB1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From1"
          SrcTerminal   1
          DstComponent  "MFB1"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "PWM"
          SrcTerminal   1
          DstComponent  "Switch"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Switch"
          SrcTerminal   1
          DstComponent  "Demux3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Am2"
          SrcTerminal   3
          Points        [565, 160]
          DstComponent  "Mux"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Vm2"
          SrcTerminal   3
          Points        [635, 85]
          DstComponent  "Mux"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux1"
          SrcTerminal   1
          DstComponent  "DC Out"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Vm1"
          SrcTerminal   3
          Points        [135, 80]
          DstComponent  "Mux1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator2"
          SrcTerminal   1
          Points        [405, 335; 405, 310]
          Branch {
            DstComponent  "LED Blinking"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Delay2"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "From2"
          SrcTerminal   1
          DstComponent  "MFB1"
          DstTerminal   7
        }
        Connection {
          Type          Signal
          SrcComponent  "From3"
          SrcTerminal   1
          DstComponent  "MFB1"
          DstTerminal   8
        }
        Connection {
          Type          Signal
          SrcComponent  "PV V,I,P"
          SrcTerminal   1
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "MFB1"
          SrcTerminal   2
          Points        [410, 75; 410, 45]
          DstComponent  "R1"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "PV"
          SrcTerminal   2
          Points        [105, 135]
          DstComponent  "Am1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Am1"
          SrcTerminal   3
          Points        [155, 170]
          DstComponent  "Mux1"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "Vm2"
          SrcTerminal   1
          Points        [610, 45]
          Branch {
            DstComponent  "R2"
            DstTerminal   1
          }
          Branch {
            Points        [665, 45]
            DstComponent  "Vgrid"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "Vm2"
          SrcTerminal   2
          Points        [610, 125]
          Branch {
            DstComponent  "Am2"
            DstTerminal   1
          }
          Branch {
            Points        [665, 125]
            DstComponent  "Vgrid"
            DstTerminal   2
          }
        }
      }
    }
    Component {
      Type          Step
      Name          "Step"
      Show          off
      Position      [210, 185]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Time"
        Value         "1e-3"
        Show          off
      }
      Parameter {
        Variable      "Before"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "After"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux"
      Show          off
      Position      [470, 145]
      Direction     right
      Flipped       off
      Parameter {
        Variable      "Width"
        Value         "[2 2]"
        Show          off
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Step"
      SrcTerminal   1
      DstComponent  "Plant"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Plant"
      SrcTerminal   4
      DstComponent  "Controller"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Plant"
      SrcTerminal   2
      DstComponent  "Mux"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Plant"
      SrcTerminal   1
      DstComponent  "Mux"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux"
      SrcTerminal   1
      Points        [485, 145; 485, 105; 50, 105]
      DstComponent  "Controller"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Controller"
      SrcTerminal   1
      DstComponent  "Plant"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Controller"
      SrcTerminal   5
      DstComponent  "Plant"
      DstTerminal   6
    }
    Annotation {
      Name          "Single-phase, single-stage, grid-connected 3kW PV inverte"
"r\nwith embedded code generation for TI C2000 MCUs\nTI targets are configured"
" in model initialization commands"
      Position      [260, 65]
    } 
  }
  ProbeBlock {
    Tag           "single_phase_pv_inverter_c2000/Controller/Probe"
    Probe {
      Component     "Sum"
      Path          "Controller"
      Signals       {"Input 1", "Input 2"}
    }
    Probe {
      Component     "Sum1"
      Path          "Controller"
      Signals       {"Input 1", "Input 2"}
    }
    Probe {
      Component     "Gain"
      Path          "Controller/Voltage\\ncontroller"
      Signals       {"Input"}
    }
  }
  ProbeBlock {
    Tag           "single_phase_pv_inverter_c2000/Plant/PV V,I,P"
    Probe {
      Component     "PV"
      Path          "Plant"
      Signals       {"PV Power", "PV Current", "PV Voltage"}
    }
  }
  ProbeBlock {
    Tag           "single_phase_pv_inverter_c2000/Plant/Vac"
    Probe {
      Component     "Vm2"
      Path          "Plant"
      Signals       {"Measured voltage"}
    }
  }
  ProbeBlock {
    Tag           "single_phase_pv_inverter_c2000/Plant/Iac"
    Probe {
      Component     "Am2"
      Path          "Plant"
      Signals       {"Measured current"}
    }
  }
  ProbeBlock {
    Tag           "single_phase_pv_inverter_c2000/Plant/PV V, I"
    Probe {
      Component     "PV"
      Path          "Plant"
      Signals       {"PV Voltage", "PV Power"}
    }
  }
  Analysis {
    Type          SteadyStateAnalysis
    Name          "Steady-State Analysis"
    OperatingPoint "1"
    TimeSpan      "-1"
    StartTime     "0"
    Tolerance     "1e-4"
    MaxIter       "20"
    JacobianPerturbation "1e-4"
    JacobianCalculation "2"
    InitCycles    "0"
    ShowCycles    "5"
  }
}
DemoSignature "gWadTHwRWChWs/LVoRh0Rjd6T55KjqNdFzXiY5nMCQ0="
